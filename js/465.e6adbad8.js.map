{"version":3,"file":"js/465.e6adbad8.js","mappings":"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","sources":["webpack://midi-router-client/./src/views/filters/add-network-destination.vue","webpack://midi-router-client/./src/components/filters/add-network-destination-component.vue?38e4","webpack://midi-router-client/./src/components/filters/add-network-destination-component.vue?3d45","webpack://midi-router-client/./src/components/filters/add-network-destination-component.vue","webpack://midi-router-client/./src/views/filters/add-network-destination.vue?7267"],"sourcesContent":["<template>\n  <div>\n    <AddNetworkDestinationComponent></AddNetworkDestinationComponent>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from 'vue'\n// @ is an alias to /src\nimport AddNetworkDestinationComponent from '@/components/filters/add-network-destination-component.vue'\n\nexport default defineComponent({\n  components: {\n    AddNetworkDestinationComponent\n  },\n})\n</script>","import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Server name/ip\", -1)\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Server port number\", -1)\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"Get remote ports\")\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Server remote midi port\", -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"option\", { value: \"\" }, null, -1)\nconst _hoisted_6 = [\"value\"]\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"OK\")\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"Cancel\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Btn = _resolveComponent(\"Btn\")!\n  const _component_CardBody = _resolveComponent(\"CardBody\")!\n  const _component_Card = _resolveComponent(\"Card\")!\n  const _component_Page = _resolveComponent(\"Page\")!\n\n  return (_openBlock(), _createBlock(_component_Page, { text: _ctx.headrMsg }, {\n    default: _withCtx(() => [\n      _createVNode(_component_Card, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_CardBody, null, {\n            default: _withCtx(() => [\n              _createElementVNode(\"p\", null, [\n                _hoisted_1,\n                _withDirectives(_createElementVNode(\"input\", {\n                  class: \"w3-input\",\n                  type: \"text\",\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.serverName) = $event))\n                }, null, 512), [\n                  [_vModelText, _ctx.serverName]\n                ])\n              ]),\n              _createElementVNode(\"p\", null, [\n                _hoisted_2,\n                _withDirectives(_createElementVNode(\"input\", {\n                  class: \"w3-input\",\n                  type: \"number\",\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.portNumber) = $event))\n                }, null, 512), [\n                  [\n                    _vModelText,\n                    _ctx.portNumber,\n                    void 0,\n                    { number: true }\n                  ]\n                ])\n              ]),\n              _createElementVNode(\"p\", null, [\n                _createVNode(_component_Btn, { onClick: _ctx.getRemotePorts }, {\n                  default: _withCtx(() => [\n                    _hoisted_3\n                  ]),\n                  _: 1\n                }, 8, [\"onClick\"])\n              ]),\n              _createElementVNode(\"p\", null, [\n                _hoisted_4,\n                _withDirectives(_createElementVNode(\"select\", {\n                  class: \"w3-select\",\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.destinationMidiId) = $event))\n                }, [\n                  _hoisted_5,\n                  (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.remoteMidiPorts, (itm) => {\n                    return (_openBlock(), _createElementBlock(\"option\", {\n                      key: itm.midiInputId,\n                      value: itm.midiInputId\n                    }, _toDisplayString(itm.midiInputId) + \" - \" + _toDisplayString(itm.midiInputName), 9, _hoisted_6))\n                  }), 128))\n                ], 512), [\n                  [\n                    _vModelSelect,\n                    _ctx.destinationMidiId,\n                    void 0,\n                    { number: true }\n                  ]\n                ])\n              ])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_Card, null, {\n        default: _withCtx(() => [\n          _createVNode(_component_CardBody, null, {\n            default: _withCtx(() => [\n              _createVNode(_component_Btn, { onClick: _ctx.doOk }, {\n                default: _withCtx(() => [\n                  _hoisted_7\n                ]),\n                _: 1\n              }, 8, [\"onClick\"]),\n              _createVNode(_component_Btn, {\n                ml: true,\n                onClick: _ctx.doCancel\n              }, {\n                default: _withCtx(() => [\n                  _hoisted_8\n                ]),\n                _: 1\n              }, 8, [\"onClick\"])\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"text\"]))\n}","\nimport {\n  defineComponent,\n  ref,\n  computed,\n  onMounted,\n} from \"vue\";\n\nimport { useRoute, useRouter } from 'vue-router'\n\nimport * as Connection from \"../../src/connection\";\nimport { BaseMidiRouteInput } from \"../../src/UserDataConfig/MidiRoutePreset/BaseMidiRouteInput\";\n\nimport Page from \"../a/page-component.vue\";\nimport Card from \"../a/card-component.vue\";\nimport CardBody from \"../a/card-body.vue\";\nimport Btn from \"../a/btn-component.vue\";\n\n\nexport default defineComponent({\n  components: {\n    Page,\n    Card,\n    CardBody,\n    Btn,\n  },\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const serverName = ref(\"\");\n    const portNumber = ref(12345);\n    const destinationMidiId = ref(\"\");\n\n    const _bmi: BaseMidiRouteInput[] = [];\n    const remoteMidiPorts = ref(_bmi);\n\n    const filterid = computed(() => {\n      return route.params.filterid;\n    });\n\n    const midiinid = computed(() => {\n      return route.params.midiinid;\n    });\n\n    const chainid = computed(() => {\n      return route.params.chainid;\n    });\n\n    const headrMsg = computed(() => {\n      return `${midiinid.value}-${chainid.value} Add Network Destination`;\n    });\n\n    const midiRouteInput = computed(() => {\n      return Connection.loginStatus.userDataConfig.getMidiRouteInput(\n        Connection.loginStatus.inPorts[Number(midiinid.value)]\n      );\n    });\n\n    const filterObj = computed(() => {\n      return midiRouteInput.value.midiRouterChains[\n        parseInt(chainid.value as string)\n      ].getFilterNetworkDestination(parseInt(filterid.value as string));\n    });\n\n    async function getRemotePorts() {\n      try {\n        destinationMidiId.value = \"\";\n        remoteMidiPorts.value.splice(0, remoteMidiPorts.value.length);\n\n        const l = await Connection.loginNoSingleTon(\n          serverName.value,\n          portNumber.value\n        );\n\n        const keys = Object.keys(l.inPorts);\n\n        for (let i = 0; i < keys.length; i++) {\n          const ikey = parseInt(keys[i]);\n          remoteMidiPorts.value.push({\n            midiInputId: ikey,\n            midiInputName: l.inPorts[ikey],\n          });\n        }\n      } catch(error) {\n        alert(\"Could not connect\")\n      }\n\n    }\n\n    function doOk() {\n      if (destinationMidiId.value === \"\") {\n        return;\n      }\n\n      const inputObj = remoteMidiPorts.value.filter((row) => {\n        return row.midiInputId === parseInt(destinationMidiId.value);\n      })[0];\n\n      if (filterid.value === \"-1\") {\n        midiRouteInput.value.midiRouterChains[\n          parseInt(chainid.value as string)\n        ].addFilterNetworkDestination(\n          serverName.value,\n          portNumber.value,\n          inputObj\n        );\n      } else {\n        filterObj.value.setVal(serverName.value, portNumber.value, inputObj);\n      }\n\n      router.push(`/midiin/${midiinid.value}`);\n    }\n\n    function doCancel() {\n      if (filterid.value === \"-1\") {\n        router.push(`/AddChainFilter/${midiinid.value}/${chainid.value}`);\n      } else {\n        router.push(`/midiin/${midiinid.value}`);\n      }\n    }\n\n    onMounted(() => {\n      if (filterid.value === \"-1\") {\n        return;\n      }\n      serverName.value = filterObj.value.serverName;\n      portNumber.value = filterObj.value.serverPort;\n      destinationMidiId.value = filterObj.value.baseMidiRouteInput.midiInputId.toString();\n      remoteMidiPorts.value = [filterObj.value.baseMidiRouteInput];\n    });\n\n    return {doCancel, doOk, getRemotePorts, filterObj, \n        midiRouteInput, headrMsg, chainid, midiinid, filterid, remoteMidiPorts,\n        destinationMidiId, portNumber, serverName}\n  },\n});\n","import { render } from \"./add-network-destination-component.vue?vue&type=template&id=772e5164&ts=true\"\nimport script from \"./add-network-destination-component.vue?vue&type=script&lang=ts\"\nexport * from \"./add-network-destination-component.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Volumes/FAST/develop/MidiRouter/projects/MidiRouterClient/midi-router-client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./add-network-destination.vue?vue&type=template&id=5e6494d3\"\nimport script from \"./add-network-destination.vue?vue&type=script&lang=js\"\nexport * from \"./add-network-destination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Volumes/FAST/develop/MidiRouter/projects/MidiRouterClient/midi-router-client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","_createVNode","_component_AddNetworkDestinationComponent","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createTextVNode","_hoisted_4","_hoisted_5","value","_hoisted_6","_hoisted_7","_hoisted_8","render","_ctx","_cache","$props","$setup","$data","$options","_component_Btn","_resolveComponent","_component_CardBody","_component_Card","_component_Page","_openBlock","_createBlock","text","headrMsg","default","_withCtx","_withDirectives","class","type","$event","serverName","_vModelText","portNumber","number","onClick","getRemotePorts","_","destinationMidiId","_Fragment","_renderList","remoteMidiPorts","itm","key","midiInputId","_toDisplayString","midiInputName","_vModelSelect","doOk","ml","doCancel","defineComponent","components","Page","Card","CardBody","Btn","setup","route","useRoute","router","useRouter","ref","_bmi","filterid","computed","params","midiinid","chainid","midiRouteInput","Connection","Number","filterObj","midiRouterChains","parseInt","getFilterNetworkDestination","async","splice","length","l","keys","Object","inPorts","i","ikey","push","error","alert","inputObj","filter","row","addFilterNetworkDestination","setVal","onMounted","serverPort","baseMidiRouteInput","toString","__exports__","AddNetworkDestinationComponent"],"sourceRoot":""}